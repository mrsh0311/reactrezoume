(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,r){},40:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(17),c=r.n(s),i=(r(39),r(40),r(2)),o=r.n(i),u=r(4),d=r(6),l=r(18),j=r(30),b=r(32),h=r(33),p=r(14),O=r.n(p),m="https://react.devsharp.ir/",f=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(e){var a;switch(Object(l.a)(this,r),a=t.call(this,e.message),e.response.status){case 404:a.message="not found";break;case 400:a.message="The submitted information is incomplete";break;case 403:a.message="You do not have the required access";break;case 409:a.message="Duplicated Error";break;case 500:a.message="Error In Server"}return a}return r}(Object(h.a)(Error)),x=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(m+t.url).catch((function(e){throw new f(e)}));case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.data);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in a=new FormData,r)a.append(n,r[n]);return e.next=4,O.a.post(m+t.url,a,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){throw new f(e)}));case 4:if(!(s=e.sent)){e.next=7;break}return e.abrupt("return",s.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(t,r){var a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in a=new FormData,r)a.append(n,r[n]);return e.next=4,O.a.put(m+t.url,a,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){throw new f(e)}));case 4:if(!(s=e.sent)){e.next=7;break}return e.abrupt("return",s.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete(m+t.url+"/"+Object.values(r).join("/")).catch((function(e){throw new f(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y={url:"Task",type:"get"},N={url:"Task",type:"post"},M={url:"Task",type:"delete"},w=function e(){Object(l.a)(this,e),this.Search=function(){return x(y)},this.Register=function(e){return v(N,e)},this.Edit=function(e){return k(N,e)},this.Remove=function(e){return g(M,{id:e})}},T=r(3),C=r(5),S=function(e,t){switch(t.type){case"register":var r=e.model,a=e.listModel;if(0===r.id)r.id=t.payload,a=[].concat(Object(C.a)(a),[r]);else{var n=a.findIndex((function(e){return e.id===r.id}));-1!==n&&(a[n]=r)}return Object(T.a)(Object(T.a)({},e),{},{listModel:a,model:{id:0,taskName:"",duration:0,statusId:1}});case"remove":var s=e.listModel,c=s.findIndex((function(e){return e.id===t.payload}));if(-1!==c){var i=Object(C.a)(s);i.splice(c,1),s=Object(C.a)(i)}return Object(T.a)(Object(T.a)({},e),{},{listModel:s,model:{id:0,taskName:"",duration:0,statusId:1}});case"hideModal":return Object(T.a)(Object(T.a)({},e),{},{showModal:!1});case"setListModel":return Object(T.a)(Object(T.a)({},e),{},{listModel:t.payload});case"showModal":return Object(T.a)(Object(T.a)({},e),{},{showModal:!0});case"selectModel":return Object(T.a)(Object(T.a)({},e),{},{model:t.payload});case"resetModel":return Object(T.a)(Object(T.a)({},e),{},{model:{id:0,taskName:"",duration:0,statusId:1}});case"selectStatus":return Object(T.a)(Object(T.a)({},e),{},{selectedStatusModel:t.payload});case"showError":return Object(T.a)(Object(T.a)({},e),{},{error:!0,errorMessage:t.payload});case"hideError":return Object(T.a)(Object(T.a)({},e),{},{error:!1,errorMessage:""});default:return e}},F=r(13),I=(r(29),function(){F.b.info("the opration done...",{position:"top-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",icon:"\ud83e\udd84"})}),E=r(1),L=Object(a.createContext)(null),D={listModel:[],showModal:!1,model:{id:0,taskName:"",duration:0,statusId:1},selectedStatusModel:null,error:!1,errorMessage:""},R=function(e){var t=e.children,r=Object(a.useReducer)(S,D),n=Object(d.a)(r,2),s=n[0],c=n[1],i=s.listModel,l=s.showModal,j=s.model,b=s.selectedStatusModel,h=s.error,p=s.errorMessage,O=new w;Object(a.useEffect)((function(){m()}),[]);var m=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Search();case 3:t=e.sent,c({type:"setListModel",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),P(c,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==j.id){e.next=10;break}return e.next=4,O.Register(j);case 4:t=e.sent,c({type:"register",payload:t.id}),c({type:"hideModal"}),I(),e.next=15;break;case 10:return e.next=12,O.Edit(j);case 12:c({type:"register"}),c({type:"hideModal"}),I();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),P(c,e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Remove(t);case 3:c({type:"remove",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),P(c,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(L.Provider,{value:{listModel:i,showModal:l,model:j,selectedStatusModel:b,error:h,errorMessage:p,registerTask:f,openTaskFormForEdit:function(e){c({type:"showModal"}),c({type:"selectModel",payload:e})},removeTask:x,showTaskForm:function(){return c({type:"showModal"})},hideTaskForm:function(){return c({type:"hideModal"})},openTaskFormForRegister:function(){c({type:"showModal"}),c({type:"resetModel"})},getTaskCountbyStatusId:function(e){return i.filter((function(t){return t.statusId===e})).length},setSelectedTaskStatusModel:function(e){c({type:"selectStatus",payload:e})},searchTaskCountbyStatusId:function(e){return i.filter((function(t){return t.statusId===e}))},isExistsTask:function(e){return i.filter((function(t){return t.taskName===e.trim()&&t.id!==j.id})).length>0}},children:t})};function P(e,t){var r;e({type:"showError",payload:t.message}),r=t.message,F.b.error(r,{position:"top-left",autoClose:6e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",icon:"\ud83e\udd84"}),setTimeout((function(){e({type:"hideError"})}),5e3)}var B=[{id:1,statusName:"To Do",color:"#5cb85c"},{id:2,statusName:"In Progress",color:"#2196F3"},{id:3,statusName:"Done",color:"#f44336"},{id:4,statusName:"Archive",color:"#da190b"}],q=Object(a.createContext)(B),H=function(e){return Object(E.jsx)(q.Provider,{value:{statusTaskList:B},children:e.children})},J=function(){var e=Object(a.useContext)(q).statusTaskList,t=Object(a.useContext)(L),r=t.getTaskCountbyStatusId,n=t.setSelectedTaskStatusModel;return Object(E.jsxs)("header",{children:[Object(E.jsx)("button",{className:"tablink",onClick:function(){return n(null)},children:"Task Managment"}),e.map((function(e){return Object(E.jsxs)("button",{onClick:function(){return n(e)},className:"tablink",children:[e.statusName," ",Object(E.jsx)("span",{children:" List"}),Object(E.jsx)("span",{style:{marginLeft:7},children:r(e.id)})]},e.id)}))]})},A=r(31),W=function(){var e,t=Object(A.useContext)(L),r=t.selectedStatusModel,a=t.searchTaskCountbyStatusId;return Object(E.jsxs)("div",{children:[Object(E.jsxs)("h2",{children:["Task List With Status ",null===r||void 0===r?void 0:r.statusName]}),Object(E.jsx)("hr",{}),null===(e=a(r.id))||void 0===e?void 0:e.map((function(e){return Object(E.jsxs)("div",{className:"filterDiv",style:{backgroundColor:r.color},children:[Object(E.jsx)("p",{children:e.taskName}),Object(E.jsxs)("div",{className:"overlay",children:[Object(E.jsx)("p",{children:e.taskName}),Object(E.jsxs)("p",{children:["Duration:",e.duration]})]})]},e.id)}))]})},Y=function(e){var t=Object(a.useContext)(L),r=t.listModel,n=t.openTaskFormForEdit,s=t.removeTask,c=Object(a.useContext)(q).statusTaskList,i=function(e){var t=c.find((function(t){return t.id===e}));return t?t.statusName:""};return Object(E.jsxs)("table",{className:"table",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{className:"header",children:[Object(E.jsx)("th",{children:"Task Name"}),Object(E.jsx)("th",{children:"Duration"}),Object(E.jsx)("th",{children:"Task State"}),Object(E.jsx)("th",{children:"..."})]})}),Object(E.jsx)("tbody",{children:r.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.taskName}),Object(E.jsx)("td",{children:e.duration}),Object(E.jsx)("td",{children:i(e.statusId)}),Object(E.jsxs)("td",{children:[Object(E.jsx)("i",{className:"fa fa-edit text-success",onClick:function(){n(e)}}),Object(E.jsx)("i",{className:"fa fa-times",onClick:function(){s(e.id)}})]})]},e.id)}))})]})},z=function(e){var t=e.model,r=e.id,n=e.description,s=e.list,c=e.text,i=e.validation,o=Object(a.useState)(t[r]),u=Object(d.a)(o,2),l=u[0],j=u[1];Object(a.useEffect)((function(){j(t[r])}),[t,r]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{htmlFor:r,children:Object(E.jsxs)("b",{children:[n,":"]})}),Object(E.jsx)("select",Object(T.a)(Object(T.a)({},i),{},{value:l,id:r,onChange:function(e){j(e.target.value),t[r]=Number(e.target.value)},children:s.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e[c]},e.id)}))}))]})},G=function(e){var t=e.model,r=e.id,n=e.description,s=e.validation,c=Object(a.useState)(t[r]),i=Object(d.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){u(t[r])}),[t,r]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{htmlFor:r,children:Object(E.jsxs)("b",{children:[n,":"]})}),Object(E.jsx)("input",Object(T.a)(Object(T.a)({},s),{},{id:r,value:o,type:"text",onChange:function(e){u(e.target.value),t[r]=Number(e.target.value)}}))]})},K=function(e){var t=e.model,r=e.id,n=e.description,s=e.validation,c=Object(a.useState)(t[r]),i=Object(d.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){u(t[r])}),[t,r]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{htmlFor:r,children:Object(E.jsxs)("b",{children:[n,":"]})}),Object(E.jsx)("input",Object(T.a)(Object(T.a)({},s),{},{id:r,value:o,type:"text",onChange:function(e){u(e.target.value),t[r]=e.target.value}}))]})},Q=r(34),U=function(){var e,t,r,n=Object(a.useContext)(q).statusTaskList,s=Object(a.useContext)(L),c=s.model,i=s.registerTask,o=s.isExistsTask,u=Object(Q.a)({mode:"all"}),d=u.register,l=u.handleSubmit,j=u.formState.errors,b=u.reset;Object(a.useEffect)((function(){b()}),[c,b]);var h=Object(T.a)({},d("taskName",{required:{value:!0,message:"Task Name is required"},validate:function(e){return!o(e)||"task is duplicated"}})),p=Object(T.a)({},d("duration",{min:{value:3,message:"Task duration must be more than 3"},max:{value:20,message:"Task duration must be less than 20"}}));return Object(E.jsx)("form",{onSubmit:l(i),children:Object(E.jsxs)("div",{className:"container",children:[Object(E.jsxs)("div",{className:j.taskName?"input-group error":"input-group",children:[Object(E.jsx)(K,{validation:h,model:c,id:"taskName",description:"Task Name"}),j.taskName&&Object(E.jsx)("label",{className:"error-message",children:null===(e=j.taskName)||void 0===e?void 0:e.message})]}),Object(E.jsxs)("div",{className:j.duration?"input-group error":"input-group",children:[Object(E.jsx)(G,{validation:p,model:c,id:"duration",description:"Task Duration"}),j.duration&&Object(E.jsx)("label",{className:"error-message",children:null===(t=j.duration)||void 0===t?void 0:t.message})]}),Object(E.jsxs)("div",{className:j.statusId?"input-group error":"input-group",children:[Object(E.jsx)(z,{model:c,id:"statusId",description:"Task Status",list:n,text:"statusName"}),j.statusId&&Object(E.jsx)("label",{className:"error-message",children:null===(r=j.statusId)||void 0===r?void 0:r.message})]}),Object(E.jsx)("button",{className:"btn success",children:"Register"})]})})},V=function(e){return Object(E.jsx)("div",{className:"modal",style:{display:e.show?"block":"none"},children:Object(E.jsxs)("div",{className:"modal-content",children:[Object(E.jsxs)("div",{className:"modal-header",children:[Object(E.jsx)("span",{className:"close",onClick:function(){e.hide&&e.hide()},children:"\xd7"}),Object(E.jsx)("h2",{children:e.header})]}),Object(E.jsx)("div",{className:"modal-body",children:e.children}),e.footer?Object(E.jsx)("div",{className:"modal-footer",children:e.footer}):Object(E.jsx)(E.Fragment,{})]})})},X=function(){var e=Object(a.useContext)(L),t=e.showModal,r=e.openTaskFormForRegister,n=e.hideTaskForm;return Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{children:"Task Managment"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("button",{className:"btn success",onClick:function(){r()},children:[Object(E.jsx)("span",{className:"fa fa-plus",style:{marginRight:5}}),"New"]}),Object(E.jsx)(Y,{}),Object(E.jsx)(V,{header:Object(E.jsx)("p",{children:"Task Managment"}),show:t,hide:function(){n()},children:Object(E.jsx)(U,{})})]})},Z=function(){var e=Object(a.useContext)(L).selectedStatusModel;return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)(J,{}),e?Object(E.jsx)(W,{}):Object(E.jsx)(X,{})]})},$=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{}),Object(E.jsx)(R,{children:Object(E.jsx)(H,{children:Object(E.jsx)(Z,{})})})]})},_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,62)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))};c.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)($,{})}),document.getElementById("root")),_()}},[[61,1,2]]]);
//# sourceMappingURL=main.7485732c.chunk.js.map